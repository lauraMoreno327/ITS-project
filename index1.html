<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
</head>
<body>
    <div id = "menu">
        <ul name = "tab browser">
            <ul>    
                <li><a href="Home.html">Home</a></li>          
                <li><a href="index1.html">Add students and courses</a></li>
                <li><a href="#">See courses</a></li>
            </ul>
        </ul>
        
        </div>
    <form class = "Studentcontainer">
    <h2>Add Students</h2>
<div class = "Student info">
<input type="text" id="name" placeholder="First Name">
<input type="text" id="lastname" placeholder="Last Name">
<input type="text" id="degree" placeholder="Major">
<input type="number" id="id" placeholder="ID number">
<input type="number" id="age" placeholder="Age">
<button id ="Button Student">Add student</button>
</div>
</form>
<form class = "Coursecontainer">
    <div class="COurse info">
    <h2>Add Courses</h2>
    <div id = "classInfo"class = "Course info">
    <input type="text" id="nameC" placeholder="Course Name">
    <input type="number" id="idc" placeholder="Course Number">
    <input type="number" id="seat capacity" placeholder="Seat Capacity">
    <input type="text" id="college" placeholder="College">
    <button id ="Button Course">Add course</button>
    </div>
    </form>
    <form class = "SeeStudentsAndCoursesButtons">
        <button id="ss">Shows Students</button>
        <button id="Show Courses"> Show Courses</button>
    </form>
    
    <p id="Demo"></p>
    <!-- .......................................................... -->
    <script>
let students = [];
let courses =[];
console.log("Test");

const addStudent = (ev) =>{
    ev.preventDefault();
  
    let student = {
    
        name: document.getElementById("name").value,
        lastName:document.getElementById("lastname").value,
        degree: document.getElementById("degree").value,
        idNumber: document.getElementById("id").value,
        age :document.getElementById("age").value
       
    
    }
    students.push(student);
    document.querySelector('form').reset();
    localStorage.setItem('Students list', JSON.stringify(students));
    alert("The student has been added succesfully, tap on studentss tab to see all students");
    console.log(localStorage.getItem('Students list'));

    var copy = JSON.parse(localStorage.getItem('Students list'));
    console.log(copy.length);
    for(var i=0; i<copy.length;i++){
        var result = "The students who are curently enrolled are:" +'\n';
        var first =copy[i].name +" "+copy[i].lastName +" "+copy[i].degree +" "+copy[i].idNumber +" "+copy[i].age +'\n';
      
     var  finalString = "" + finalString.join(first);
        document.getElementById("Demo").innerHTML = result + finalString;
    }
    
}
// event listener for add students courses
document.addEventListener('DOMContentLoaded',()=>{
document.getElementById("Button Student").addEventListener("click", addStudent)
;
});

const  addCourse =  (ev) =>{
            ev.preventDefault();
            let course =  {
           
                
                nameC: document.getElementById("nameC").value,
                iDC: document.getElementById("idc").value,
                seatLimit: document.getElementById("seat capacity").value,
                degreeC: document.getElementById("college").value
               
            
                }
        courses.push(course);
        document.querySelector('form').reset();
        document.getElementById("classInfo").reset;
        alert("The course has been added succesfully, tap on courses tab to see all courses");
        localStorage.setItem('Course List', JSON.stringify(courses));
            }
        //event listener for add courses button
            document.addEventListener('DOMContentLoaded',()=>{
                document.getElementById("Button Course").addEventListener("click", addCourse);
                });
       
    
    function removeStudent(studentID){
        var data = JSON.parse(localStorage.getItem('Students List'));
        for(var i =0; i<data.size();i++)  {
            if(data[i].idNumber==studentID){
            students.pop(data[i]);
            }
        }
    function showStudents(){
       console.warn('added', {students});
       let pre = document.querySelector('#msg pre');
       pre.textContent ='\n'+ JSON.stringify(students, '\t',2);
    }

       
             //   document.getElementById("ss").addEventListener("click", showStudents, false);
               
        
     

 }            
//local storage 
//  localStorage.setItem('Students list', JSON.stringify(students));
// localStorage.setItem('Course List', JSON.stringify(courses));


    </script>
    <!-- ........................................................................ -->
</body>
</html>