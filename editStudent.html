<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Student</title>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
</head>
<body>
    <div id = "menu">
        <ul name = "tab browser">
            <ul>    
                <li><a href="Home.html">Home</a></li>          
                <li><a href="index1.html">Add students and courses</a></li>
                <li><a href="Delete.html">Delete students or courses</a></li>
                <li><a href="editStudent.html">Edit student info</a></li>
                <li><a href="Enrollment.html">Enroll in courses</a></li>
            </ul>
        </ul>
        
        </div>
        <form class = "Modify items">
            <h3>Enter the ID of the student or the number of the course you wish to modify</h3>
        <div class = "changeArrayStudents">
        <input type="number" id="idPersonChange" placeholder="ID of student to change">
        <button id ="SearchStudent">Search student</button>
        </div>
        <div class = "changeArrayCourses"></div>
        <input type="number" id="idCourseChange" placeholder="Number of course to change">
        <button id ="SearchCourse">Search Course</button>
        </div>
        </form>

        <form class = "Studentcontainer">
            <h3>Insert the new/modify details of the student. Please fill all spaces </h3>
        <div class = "Student info">
        <input type="text" id="newName" placeholder="First Name">
        <input type="text" id="newLastname" placeholder="Last Name">
        <input type="text" id="newDegree" placeholder="Major">
        <input type="number" id="newId" placeholder="ID number">
        <input type="number" id="newAge" placeholder="Age">
        <button id ="UpdateStudent">Update</button>
        </div>
        </form>
        <form class = "Coursecontainer">
            <h3>Insert the new/modify details of the course. Please fill all spaces</h3>
        <div class = "Course info">
        <input type="text" id="newNameC" placeholder="Course Name">
        <input type="number" id="newidc" placeholder="Course Number">
        <input type="number" id="newSeatCapacity" placeholder="Seat Capacity">
        <input type="text" id="newCollege" placeholder="College">
        <button id ="UpdateCourse">Update</button>
        </div>
        </form>
        <p id="hi"></p>
        <!-- ................................................................................... -->
        <script>
          var data = JSON.parse(localStorage.getItem('Students list')); 
          var courseData = JSON.parse(localStorage.getItem('Course List'));

          const displayStudentInfo = (ev) =>{
    ev.preventDefault();
    for(var i =0; i<data.length;i++)  {
            if(data[i].idNumber==document.getElementById("idPersonChange").value){
              
            document.getElementById("hi").innerHTML = data[i].name +" "+data[i].lastName +" "+data[i].degree +" "+data[i].idNumber +" "+data[i].age +": IF CORRECT, INSERT NEW INFORMATION ABOVE";
            }
}
}

document.addEventListener('DOMContentLoaded',()=>{
document.getElementById("SearchStudent").addEventListener("click", displayStudentInfo)
;
});

const displayCourseInfo = (ev) =>{
    ev.preventDefault();
    for(var i =0; i<courseData.length;i++)  {
            if(courseData[i].iDC==document.getElementById("idCourseChange").value){
             
            document.getElementById("hi").innerHTML = courseData[i].nameC +" "+courseData[i].iDC +" "+courseData[i].seatLimit +" "+courseData[i].degreeC + " : IF CORRECT, ENTER NEW DETAILS ABOVE";
            }
}
}
document.addEventListener('DOMContentLoaded',()=>{
document.getElementById("SearchCourse").addEventListener("click", displayCourseInfo)
;
});

          const updateStudentInfo = (ev) =>{
              ev.preventDefault();
              for(var i =0; i<data.length;i++)  {
            if(data[i].idNumber==document.getElementById("idPersonChange").value){
            
               data[i].name = document.getElementById("newName").value;
               data[i].lastName = document.getElementById("newLastname").value;
               data[i].degree = document.getElementById("newDegree").value;
               data[i].idNumber = document.getElementById("newId").value;
               data[i].age = document.getElementById("newAge").value;
                
               
                
            }
}
localStorage.setItem('Students list', JSON.stringify(data));
alert("Successful update ");
      
          }
          document.addEventListener('DOMContentLoaded',()=>{
document.getElementById("UpdateStudent").addEventListener("click", updateStudentInfo)
;
});

const updateCourseInfo = (ev) =>{
              ev.preventDefault();
              for(var i =0; i<courseData.length;i++)  {
            if(courseData[i].iDC==document.getElementById("idCourseChange").value){
                courseData[i].nameC = document.getElementById("newNameC").value;
                courseData[i].iDC = document.getElementById("newidc").value;
                courseData[i].seatLimit = document.getElementById("newSeatCapacity").value;
                courseData[i].degreeC = document.getElementById("newCollege").value;
              
               
            }
}
localStorage.setItem('Course List', JSON.stringify(courseData));
alert("Successful update ");
      
          }
          document.addEventListener('DOMContentLoaded',()=>{
document.getElementById("UpdateCourse").addEventListener("click", updateCourseInfo)
;
});

        </script>
    
</body>
</html>